{
  "worker_name": "gold_customer_360_spine_analyzer",
  "description": "Analyzes unified customer 360Â° metrics including total revenue, order behavior, marketing engagement, and support interactions.",
  "knowledge": "This worker supports customer value analytics including churn risk, high-value customer identification, engagement scoring, and revenue forecasting.",
  "knowledge_base": "gold_customer_360_spine_v1",
  "database_info": {
    "type": "postgres",
    "schema": "public"
  },
  "max_limits": {
    "max_rows": 2000,
    "max_filters": 8,
    "max_aggregations": 10,
    "max_group_by_columns": 6
  },
  "source": {
    "type": "PHYSICAL_TABLE",
    "config": {
      "table_name": "gold_customer_360_spine_v1"
    }
  },
  "columns": [
    { "name": "customer_360_id", "type": "text", "description": "Customer email used as customer 360 identifier.", "requires_quotes": true, "is_nullable": false, "is_pii": true },
    { "name": "email", "type": "text", "description": "Redundant customer email column.", "requires_quotes": true, "is_nullable": true, "is_pii": true },
    { "name": "total_orders", "type": "integer", "description": "Number of completed orders by the customer.", "requires_quotes": false, "is_nullable": true, "is_pii": false },
    { "name": "total_revenue", "type": "float", "description": "Lifetime revenue from the customer.", "requires_quotes": false, "is_nullable": true, "is_pii": false },
    { "name": "avg_order_value", "type": "float", "description": "Average revenue per order.", "requires_quotes": false, "is_nullable": true, "is_pii": false },
    { "name": "first_order_date", "type": "timestamp", "description": "Date of first order.", "requires_quotes": true, "is_nullable": true, "is_pii": false },
    { "name": "last_order_date", "type": "timestamp", "description": "Date of latest order.", "requires_quotes": true, "is_nullable": true, "is_pii": false },
    { "name": "total_support_tickets", "type": "integer", "description": "Total customer support tickets.", "requires_quotes": false, "is_nullable": true, "is_pii": false },
    { "name": "avg_resolution_time", "type": "float", "description": "Average support resolution time (in hours/days).", "requires_quotes": false, "is_nullable": true, "is_pii": false },
    { "name": "email_opens", "type": "integer", "description": "Email campaign opens.", "requires_quotes": false, "is_nullable": true, "is_pii": false },
    { "name": "email_clicks", "type": "integer", "description": "Email campaign clicks.", "requires_quotes": false, "is_nullable": true, "is_pii": false },
    { "name": "campaign_conversions", "type": "integer", "description": "Successful conversions through campaigns.", "requires_quotes": false, "is_nullable": true, "is_pii": false },
    { "name": "customer_tenure_days", "type": "integer", "description": "Customer tenure in days.", "requires_quotes": false, "is_nullable": true, "is_pii": false },
    { "name": "customer_lifetime_value", "type": "float", "description": "Predicted LTV of the customer.", "requires_quotes": false, "is_nullable": true, "is_pii": false },
    { "name": "_created_timestamp", "type": "timestamp", "description": "Record creation timestamp.", "requires_quotes": true, "is_nullable": true, "is_pii": false }
  ],
  "filters": [
    { "column": "total_orders", "operators": [">", "<="], "description": "Filter based on number of orders." },
    { "column": "total_revenue", "operators": [">", "<="], "description": "Filter based on customer revenue value." },
    { "column": "customer_lifetime_value", "operators": [">", "<="], "description": "Filter based on CLV range." },
    { "column": "last_order_date", "operators": [">=", "<"], "description": "Filter by recent purchase timeline." }
  ],
  "aggregations": [
    { "function": "SUM", "applicable_columns": ["total_revenue", "customer_lifetime_value"], "alias_template": "total_<column_name>" },
    { "function": "AVG", "applicable_columns": ["avg_order_value", "avg_resolution_time", "customer_lifetime_value"], "alias_template": "avg_<column_name>" },
    { "function": "COUNT", "applicable_columns": ["customer_360_id"], "alias_template": "count_customers" }
  ],
  "group_by_options": ["customer_tenure_days", "campaign_conversions"]
}